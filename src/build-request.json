{
  "kind": "build_request",
  "title": "Add Van Gogh landing page with post-action redirects and theme persistence",
  "projectName": "House of Vigilantes",
  "priority": "normal",
  "requirements": [
    {
      "id": "REQ-1",
      "text": "Create a new Van Gogh-inspired landing page component at frontend/src/pages/LandingPage.tsx with full-screen Van Gogh painting background, Sign Up and Log In buttons integrated with Internet Identity, and a light/dark mode toggle",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-5"
        ],
        "quotes": [
          "Create new Van Gogh-inspired landing page with login/signup and theme toggle"
        ]
      },
      "acceptanceCriteria": [
        "Landing page displays a full-screen Van Gogh painting as background",
        "Sign Up and Log In buttons are prominently displayed and functional",
        "Light/Dark mode toggle is accessible and functional",
        "Page uses existing Van Gogh theme styling consistent with other pages"
      ]
    },
    {
      "id": "REQ-2",
      "text": "Update routing in frontend/src/App.tsx to make the new LandingPage the default route for unauthenticated users, and redirect authenticated users to /home",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-5"
        ],
        "quotes": [
          "This landing page will be the first page users see when visiting the website"
        ]
      },
      "acceptanceCriteria": [
        "Unauthenticated users see the landing page at root path",
        "Authenticated users are automatically redirected to /home",
        "Navigation between routes works smoothly"
      ]
    },
    {
      "id": "REQ-3",
      "text": "Implement theme persistence using browser localStorage to store and retrieve the user's light/dark mode preference across sessions",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-5"
        ],
        "quotes": [
          "Persist user's theme preference across sessions",
          "Store preference in browser localStorage"
        ]
      },
      "acceptanceCriteria": [
        "Theme preference is saved to localStorage when user toggles light/dark mode",
        "Theme preference is loaded from localStorage on page load",
        "Theme persists after logout and page refresh"
      ]
    },
    {
      "id": "REQ-4",
      "text": "Update the Log Out button in frontend/src/components/AppLayout.tsx to redirect to the landing page with a smooth fade transition after clearing frontend session data",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-1"
        ],
        "quotes": [
          "Log Out: Ends the current session, Clears any user-specific data in the frontend, Redirects to the landing page",
          "Smooth UX: Use a fade or slide transition when redirecting"
        ]
      },
      "acceptanceCriteria": [
        "Log Out button clears Internet Identity session",
        "Log Out button clears query cache and frontend state",
        "User is redirected to landing page after logout",
        "Transition to landing page uses smooth fade animation"
      ]
    },
    {
      "id": "REQ-5",
      "text": "Update the Delete Account flow in frontend/src/pages/AuthorDashboardPage.tsx to redirect to the landing page with a smooth fade transition after successful account deletion",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-1"
        ],
        "quotes": [
          "Delete Account: Confirms deletion with a semi-transparent modal, Deletes all user data, After deletion, redirects to the landing page"
        ]
      },
      "acceptanceCriteria": [
        "After confirming deletion in modal, account is deleted from backend",
        "Frontend session is cleared after deletion",
        "User is redirected to landing page after deletion",
        "Transition to landing page uses smooth fade animation",
        "Success toast message is displayed"
      ]
    },
    {
      "id": "REQ-6",
      "text": "Ensure the Delete Account modal in frontend/src/components/DeleteAccountModal.tsx has a semi-transparent overlay with blurred/tinted background for readability",
      "target": "frontend",
      "source": {
        "messageIds": [
          "msg-1"
        ],
        "quotes": [
          "Modal overlay: When confirming deletion, keep background blurred/tinted for readability"
        ]
      },
      "acceptanceCriteria": [
        "Modal overlay has semi-transparent background",
        "Background behind modal is visually blurred or tinted",
        "Modal content remains readable against blurred background"
      ]
    },
    {
      "id": "REQ-7",
      "text": "Verify that the backend deleteAccount function in backend/main.mo properly removes all user data including profile, books, reviews/ratings, reading lists, and analytics when called",
      "target": "backend",
      "source": {
        "messageIds": [
          "msg-5"
        ],
        "quotes": [
          "Delete backend data according to the account deletion scope (profile, books, favorites, reading lists, analytics where available)"
        ]
      },
      "acceptanceCriteria": [
        "deleteAccount removes user profile from profiles map",
        "deleteAccount removes all user books from books map",
        "deleteAccount removes user ratings from ratings map",
        "deleteAccount removes user bookmarks from bookmarks map",
        "deleteAccount removes user reading progress from progress map",
        "deleteAccount removes user genre preferences from preferences map"
      ]
    }
  ],
  "constraints": [
    "Do not modify frontend/src/hooks/useInternetIdentity.ts or frontend/src/hooks/useActor.ts",
    "Use existing Van Gogh theme styling and color palette from frontend/index.css",
    "Maintain single-actor architecture in backend/main.mo",
    "Use React Query for all backend mutations and cache invalidation"
  ],
  "nonGoals": [
    "Adding new authentication providers beyond Internet Identity",
    "Implementing server-side session management",
    "Adding email notifications for account deletion",
    "Creating new backend data models or schema changes"
  ],
  "imageRequirements": {
    "required": [
      "Full-screen Van Gogh painting for landing page background, artistic and welcoming style (landing-hero.dim_1920x1080.png)"
    ],
    "edits": []
  }
}